{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\dangerzone-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\dangerzone-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"C:\\\\dangerzone-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import server from\"../api/server\";import createDataContext from\"./createDataContext\";var quizReducer=function quizReducer(state,action){switch(action.type){case\"post_test_results\":return[].concat(_toConsumableArray(state),[{correct_answers:action.payload.correct_answers,completed:action.payload.isCompleted,user:action.payload.userId,chapter:action.payload.chapterId,userData:action.payload.userDataId}]);default:return state;}};var postTestResults=function postTestResults(dispatch){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(correct_answers,isCompleted,userId,chapterId,userDataId){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return server.post(\"/chapterdata/\",{correct_answers:correct_answers,completed:isCompleted,user:userId,chapter:chapterId,userData:userDataId});case 3:dispatch({type:\"post_test_results\",payload:{correct_answers:correct_answers,isCompleted:isCompleted,userId:userId,chapterId:chapterId,userDataId:userDataId}});_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments);};}();};var _createDataContext=createDataContext(quizReducer,{postTestResults:postTestResults},[]),Context=_createDataContext.Context,Provider=_createDataContext.Provider;export{Context,Provider};","map":{"version":3,"sources":["C:/dangerzone-react/src/context/QuizContext.js"],"names":["server","createDataContext","quizReducer","state","action","type","correct_answers","payload","completed","isCompleted","user","userId","chapter","chapterId","userData","userDataId","postTestResults","dispatch","post","console","log","Context","Provider"],"mappings":"qbAAA,MAAOA,CAAAA,MAAP,KAAmB,eAAnB,CAEA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACrC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,mBAAL,CACE,mCACKF,KADL,GAEE,CACEG,eAAe,CAAEF,MAAM,CAACG,OAAP,CAAeD,eADlC,CAEEE,SAAS,CAAEJ,MAAM,CAACG,OAAP,CAAeE,WAF5B,CAGEC,IAAI,CAAEN,MAAM,CAACG,OAAP,CAAeI,MAHvB,CAIEC,OAAO,CAAER,MAAM,CAACG,OAAP,CAAeM,SAJ1B,CAKEC,QAAQ,CAAEV,MAAM,CAACG,OAAP,CAAeQ,UAL3B,CAFF,GAUF,QACE,MAAOZ,CAAAA,KAAP,CAbJ,CAeD,CAhBD,CAkBA,GAAMa,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,QAAQ,CAAI,CAClC,+FAAO,iBACLX,eADK,CAELG,WAFK,CAGLE,MAHK,CAILE,SAJK,CAKLE,UALK,wJAQGf,CAAAA,MAAM,CAACkB,IAAP,CAAY,eAAZ,CAA6B,CACjCZ,eAAe,CAAEA,eADgB,CAEjCE,SAAS,CAAEC,WAFsB,CAGjCC,IAAI,CAAEC,MAH2B,CAIjCC,OAAO,CAAEC,SAJwB,CAKjCC,QAAQ,CAAEC,UALuB,CAA7B,CARH,QAeHE,QAAQ,CAAC,CACPZ,IAAI,CAAE,mBADC,CAEPE,OAAO,CAAE,CAAED,eAAe,CAAfA,eAAF,CAAmBG,WAAW,CAAXA,WAAnB,CAAgCE,MAAM,CAANA,MAAhC,CAAwCE,SAAS,CAATA,SAAxC,CAAmDE,UAAU,CAAVA,UAAnD,CAFF,CAAD,CAAR,CAfG,8EAoBHI,OAAO,CAACC,GAAR,cApBG,mEAAP,+EAuBD,CAxBD,C,uBAyBqCnB,iBAAiB,CACpDC,WADoD,CAEpD,CACEc,eAAe,CAAfA,eADF,CAFoD,CAKpD,EALoD,C,CAAvCK,O,oBAAAA,O,CAASC,Q,oBAAAA,Q","sourcesContent":["import server from \"../api/server\";\r\n\r\nimport createDataContext from \"./createDataContext\";\r\n\r\nconst quizReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"post_test_results\":\r\n      return [\r\n        ...state,\r\n        {\r\n          correct_answers: action.payload.correct_answers,\r\n          completed: action.payload.isCompleted,\r\n          user: action.payload.userId,\r\n          chapter: action.payload.chapterId,\r\n          userData: action.payload.userDataId\r\n        }\r\n      ];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst postTestResults = dispatch => {\r\n  return async (\r\n    correct_answers,\r\n    isCompleted,\r\n    userId,\r\n    chapterId,\r\n    userDataId\r\n  ) => {\r\n    try {\r\n      await server.post(\"/chapterdata/\", {\r\n        correct_answers: correct_answers,\r\n        completed: isCompleted,\r\n        user: userId,\r\n        chapter: chapterId,\r\n        userData: userDataId\r\n      });\r\n      dispatch({\r\n        type: \"post_test_results\",\r\n        payload: { correct_answers, isCompleted, userId, chapterId, userDataId }\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\nexport const { Context, Provider } = createDataContext(\r\n  quizReducer,\r\n  {\r\n    postTestResults\r\n  },\r\n  []\r\n);\r\n"]},"metadata":{},"sourceType":"module"}