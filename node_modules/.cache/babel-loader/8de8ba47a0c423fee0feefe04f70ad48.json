{"ast":null,"code":"var _jsxFileName = \"C:\\\\dangerzone-react\\\\src\\\\components\\\\Signup\\\\Signup.js\";\nimport React, { useState } from \"react\";\nimport { Form, Input, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport icon from \"../../assets/icon.jpeg\";\nimport * as actions from \"../../store/actions/auth\";\nimport \"../Login/Login.css\";\nimport server from \"../../api/server\";\n\nconst SignupForm = props => {\n  const [form] = Form.useForm();\n  const [navigate, setNavigate] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  if (navigate) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/homepage/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const handleSubmit = async () => {\n    const values = await form.validateFields();\n    server.post(\"rest-auth/registration\", {\n      username: values.username,\n      email: values.email,\n      password1: values.password1,\n      password2: values.password2\n    }).then(res => {\n      if (res.status === 201) {\n        localStorage.setItem(\"token\", res.data.key);\n        setNavigate(true);\n        window.location.reload();\n      }\n    }).catch(function (error) {\n      console.log(error);\n      setErrorMessage(\"Olala, something went wrong.\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"base-container\",\n    ref: props.containerRef,\n    \"data-test\": \"base-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    \"data-test\": \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: icon,\n    alt: \"icon\",\n    className: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), props.loading ? /*#__PURE__*/React.createElement(LoadingOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    onSubmit: handleSubmit,\n    name: \"dynamic_rule\",\n    className: \"signup-form\",\n    hideRequiredMark: true,\n    \"data-test\": \"signup-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    className: \"form-group\",\n    name: \"username\",\n    label: \"Username\",\n    rules: [{\n      required: true,\n      messsage: \"Please input your Username\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Username\",\n    className: \"form-group-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    className: \"form-group\",\n    name: \"email\",\n    label: \"Email\",\n    rules: [{\n      required: true,\n      messsage: \"Please input your email\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Username\",\n    className: \"form-group-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    className: \"form-group\",\n    name: \"password1\",\n    label: \"Password\",\n    rules: [{\n      required: true,\n      messsage: \"Please input your Password!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    className: \"form-group-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    className: \"form-group\",\n    name: \"password2\",\n    label: \"Confirm password\",\n    rules: [{\n      required: true,\n      messsage: \"Please confirm your Password!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    className: \"form-group-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    className: \"buttonSubmit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Sign up\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, errorMessage))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    error: state.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuth: (username, email, password1, password2) => dispatch(actions.authSignup(username, email, password1, password2))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupForm);","map":{"version":3,"sources":["C:/dangerzone-react/src/components/Signup/Signup.js"],"names":["React","useState","Form","Input","Button","connect","Redirect","LoadingOutlined","icon","actions","server","SignupForm","props","form","useForm","navigate","setNavigate","errorMessage","setErrorMessage","handleSubmit","values","validateFields","post","username","email","password1","password2","then","res","status","localStorage","setItem","data","key","window","location","reload","catch","error","console","log","containerRef","loading","required","messsage","color","mapStateToProps","state","mapDispatchToProps","dispatch","onAuth","authSignup"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport icon from \"../../assets/icon.jpeg\";\r\nimport * as actions from \"../../store/actions/auth\";\r\nimport \"../Login/Login.css\";\r\n\r\nimport server from \"../../api/server\";\r\n\r\nconst SignupForm = props => {\r\n  const [form] = Form.useForm();\r\n  const [navigate, setNavigate] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  if (navigate) {\r\n    return <Redirect to=\"/homepage/\" />;\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const values = await form.validateFields();\r\n    server\r\n      .post(\"rest-auth/registration\", {\r\n        username: values.username,\r\n        email: values.email,\r\n        password1: values.password1,\r\n        password2: values.password2\r\n      })\r\n      .then(res => {\r\n        if (res.status === 201) {\r\n          localStorage.setItem(\"token\", res.data.key);\r\n          setNavigate(true);\r\n          window.location.reload();\r\n        }\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n        setErrorMessage(\"Olala, something went wrong.\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"base-container\"\r\n      ref={props.containerRef}\r\n      data-test=\"base-container\"\r\n    >\r\n      <div className=\"content\" data-test=\"content\">\r\n        <img src={icon} alt=\"icon\" className=\"image\" />\r\n        {props.loading ? (\r\n          <LoadingOutlined />\r\n        ) : (\r\n          <>\r\n            <Form\r\n              form={form}\r\n              onSubmit={handleSubmit}\r\n              name=\"dynamic_rule\"\r\n              className=\"signup-form\"\r\n              hideRequiredMark={true}\r\n              data-test=\"signup-form\"\r\n            >\r\n              <Form.Item\r\n                className=\"form-group\"\r\n                name=\"username\"\r\n                label=\"Username\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    messsage: \"Please input your Username\"\r\n                  }\r\n                ]}\r\n              >\r\n                <Input placeholder=\"Username\" className=\"form-group-input\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                className=\"form-group\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    messsage: \"Please input your email\"\r\n                  }\r\n                ]}\r\n              >\r\n                <Input placeholder=\"Username\" className=\"form-group-input\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                className=\"form-group\"\r\n                name=\"password1\"\r\n                label=\"Password\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    messsage: \"Please input your Password!\"\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  className=\"form-group-input\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                className=\"form-group\"\r\n                name=\"password2\"\r\n                label=\"Confirm password\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    messsage: \"Please confirm your Password!\"\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  className=\"form-group-input\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button onClick={handleSubmit} className=\"buttonSubmit\">\r\n                  Sign up\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n            <div style={{ color: \"red\" }}>{errorMessage}</div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.loading,\r\n    error: state.error\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAuth: (username, email, password1, password2) =>\r\n      dispatch(actions.authSignup(username, email, password1, password2))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SignupForm);\r\n"]},"metadata":{},"sourceType":"module"}