{"ast":null,"code":"var _jsxFileName = \"C:\\\\dangerzone-react\\\\src\\\\components\\\\UserBoard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Progress } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { UserOutlined, LogoutOutlined } from \"@ant-design/icons\";\nimport { connect } from \"react-redux\";\nimport \"font-awesome/css/font-awesome.min.css\";\nimport { getUserData } from \"../../store/actions/userdata\";\nimport server from \"../api/server\";\nimport \"./UserBoard.css\";\nconst token = localStorage.getItem(\"token\");\n\nconst UserBoard = props => {\n  const [percentage, setPercentage] = useState(0);\n  const dispatch = useDispatch();\n  const username = localStorage.getItem(\"username\");\n  const userData = useSelector(state => state.userDataReducer);\n\n  const calculatePercentage = async () => {\n    const chapters = await server.get(\"/chapters/\", {\n      headers: {\n        authorization: `Token ${token}`\n      }\n    });\n    const finishedChapters = [];\n    userData.chapterdata.map(item => {\n      return item.completed === true ? finishedChapters.push(item) : null;\n    });\n    const total = chapters.data.length;\n    const current = finishedChapters.length;\n    const percent = (current / (total / 100)).toFixed(0);\n    setPercentage(percent);\n  };\n\n  calculatePercentage();\n\n  const getUserData = () => {\n    server.get(\"/userdata/\", {\n      headers: {\n        authorization: `Token ${token}`\n      }\n    }).then(res => {\n      res.data.map(item => {\n        return item.username === username ? console.log(\"hello\") : null;\n      });\n    });\n  };\n\n  useEffect(getUserData, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Progress, {\n    strokeColor: {\n      \"100%\": \"#364d79\"\n    },\n    type: \"circle\",\n    percent: percentage,\n    className: \"progressBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"iconsContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/profile/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(UserOutlined, {\n    className: \"iconBoard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    onClick: actions.logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LogoutOutlined, {\n    className: \"iconBoard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"welcomeText\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, \"Hello \", userData.username)));\n};\n\nconst mapStateToProps = state => {\n  const userData = state.userData;\n  return {\n    userData\n  };\n};\n\nexport default connect(mapStateToProps)(UserBoard);","map":{"version":3,"sources":["C:/dangerzone-react/src/components/UserBoard.js"],"names":["React","useState","useEffect","Progress","Link","UserOutlined","LogoutOutlined","connect","getUserData","server","token","localStorage","getItem","UserBoard","props","percentage","setPercentage","dispatch","useDispatch","username","userData","useSelector","state","userDataReducer","calculatePercentage","chapters","get","headers","authorization","finishedChapters","chapterdata","map","item","completed","push","total","data","length","current","percent","toFixed","then","res","console","log","actions","logout","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Progress } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserOutlined, LogoutOutlined } from \"@ant-design/icons\";\r\nimport { connect } from \"react-redux\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\nimport { getUserData } from \"../../store/actions/userdata\";\r\nimport server from \"../api/server\";\r\nimport \"./UserBoard.css\";\r\n\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nconst UserBoard = props => {\r\n  const [percentage, setPercentage] = useState(0);\r\n  const dispatch = useDispatch();\r\n  const username = localStorage.getItem(\"username\");\r\n  const userData = useSelector(state => state.userDataReducer);\r\n\r\n  const calculatePercentage = async () => {\r\n    const chapters = await server.get(\"/chapters/\", {\r\n      headers: { authorization: `Token ${token}` }\r\n    });\r\n    const finishedChapters = [];\r\n    userData.chapterdata.map(item => {\r\n      return item.completed === true ? finishedChapters.push(item) : null;\r\n    });\r\n    const total = chapters.data.length;\r\n    const current = finishedChapters.length;\r\n    const percent = (current / (total / 100)).toFixed(0);\r\n    setPercentage(percent);\r\n  };\r\n  calculatePercentage();\r\n\r\n  const getUserData = () => {\r\n    server\r\n      .get(\"/userdata/\", {\r\n        headers: { authorization: `Token ${token}` }\r\n      })\r\n      .then(res => {\r\n        res.data.map(item => {\r\n          return item.username === username ? console.log(\"hello\") : null;\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(getUserData, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"userboard\">\r\n        <Progress\r\n          strokeColor={{\r\n            \"100%\": \"#364d79\"\r\n          }}\r\n          type=\"circle\"\r\n          percent={percentage}\r\n          className=\"progressBar\"\r\n        />\r\n        <div className=\"iconsContainer\">\r\n          <Link to=\"/profile/\">\r\n            <UserOutlined className=\"iconBoard\" />\r\n          </Link>\r\n          <Link to=\"/\" onClick={actions.logout}>\r\n            <LogoutOutlined className=\"iconBoard\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"welcomeText\">Hello {userData.username}</div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  const userData = state.userData;\r\n  return { userData };\r\n};\r\n\r\nexport default connect(mapStateToProps)(UserBoard);\r\n"]},"metadata":{},"sourceType":"module"}