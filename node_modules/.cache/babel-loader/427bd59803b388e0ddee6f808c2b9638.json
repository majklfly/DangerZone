{"ast":null,"code":"var _jsxFileName = \"C:\\\\dangerzone-react\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from \"react\";\nimport { Form, Input, Button } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { GoogleOutlined, FacebookFilled, LoadingOutlined } from \"@ant-design/icons\";\nimport icon from \"../assets/icon.jpeg\";\nimport * as actions from \"../store/actions/auth\";\nimport \"./Login.css\";\nimport server from \"../api/server\";\n\nconst NormalLoginForm = props => {\n  const [form] = Form.useForm();\n  const [navigate, setNavigate] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  if (navigate) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/homepage/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 12\n      }\n    });\n  }\n\n  const handleSubmit = async () => {\n    const values = await form.validateFields();\n    console.log(values);\n    server.post(\"rest-auth/login/\", {\n      username: values.username,\n      password: values.password\n    }).then(res => {\n      if (res.status === 200) {\n        localStorage.setItem(\"token\", res.data.key);\n        localStorage.setItem(\"username\", values.username);\n        setNavigate(true);\n        window.location.reload();\n      }\n    }).catch(function (error) {\n      console.log(error);\n      setErrorMessage(\"Olala, try again. Your details are not matching...\");\n    });\n  };\n\n  const handleGoogleLogin = () => {\n    server.get(\"accounts/google/login\").then(res => {\n      if (res.status === 200) {\n        localStorage.setItem(\"token\", res.data.key);\n        setNavigate(true);\n        window.location.reload();\n      }\n    });\n  };\n\n  const handleFacebookLogin = () => {\n    server.get(\"accounts/facebook/login\").then(res => {\n      if (res.status === 200) {\n        localStorage.setItem(\"token\", res.data.key);\n        setNavigate(true);\n        window.location.reload();\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"base-container\",\n    ref: props.containerRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: icon,\n    alt: \"icon\",\n    className: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), props.loading ? /*#__PURE__*/React.createElement(LoadingOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    onSubmit: handleSubmit,\n    name: \"dynamic_rule\",\n    className: \"login-form\",\n    hideRequiredMark: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    className: \"form-group\",\n    name: \"username\",\n    label: \"Username\",\n    rules: [{\n      required: true,\n      messsage: \"Please input your Username\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Username\",\n    className: \"form-group-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    className: \"form-group\",\n    name: \"password\",\n    label: \"Password\",\n    rules: [{\n      required: true,\n      messsage: \"Please input your Password!\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    className: \"form-group-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSubmit,\n    className: \"buttonSubmit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"Log in\"))), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleGoogleLogin,\n    className: \"googleLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(GoogleOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }), \" Login with Google account\", \" \"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleFacebookLogin,\n    className: \"facebookLogin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FacebookFilled, {\n    className: \"facebookIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }), \"Login with Facebook account\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, errorMessage))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    error: state.error\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onAuth: (username, password) => dispatch(actions.authLogin(username, password))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NormalLoginForm);","map":{"version":3,"sources":["C:/dangerzone-react/src/components/Login.js"],"names":["React","useState","Form","Input","Button","connect","Redirect","GoogleOutlined","FacebookFilled","LoadingOutlined","icon","actions","server","NormalLoginForm","props","form","useForm","navigate","setNavigate","errorMessage","setErrorMessage","handleSubmit","values","validateFields","console","log","post","username","password","then","res","status","localStorage","setItem","data","key","window","location","reload","catch","error","handleGoogleLogin","get","handleFacebookLogin","containerRef","loading","required","messsage","color","mapStateToProps","state","mapDispatchToProps","dispatch","onAuth","authLogin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport {\r\n  GoogleOutlined,\r\n  FacebookFilled,\r\n  LoadingOutlined\r\n} from \"@ant-design/icons\";\r\nimport icon from \"../assets/icon.jpeg\";\r\nimport * as actions from \"../store/actions/auth\";\r\nimport \"./Login.css\";\r\n\r\nimport server from \"../api/server\";\r\n\r\nconst NormalLoginForm = props => {\r\n  const [form] = Form.useForm();\r\n  const [navigate, setNavigate] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  if (navigate) {\r\n    return <Redirect to=\"/homepage/\" />;\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    const values = await form.validateFields();\r\n    console.log(values);\r\n    server\r\n      .post(\"rest-auth/login/\", {\r\n        username: values.username,\r\n        password: values.password\r\n      })\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          localStorage.setItem(\"token\", res.data.key);\r\n          localStorage.setItem(\"username\", values.username);\r\n          setNavigate(true);\r\n          window.location.reload();\r\n        }\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n        setErrorMessage(\"Olala, try again. Your details are not matching...\");\r\n      });\r\n  };\r\n\r\n  const handleGoogleLogin = () => {\r\n    server.get(\"accounts/google/login\").then(res => {\r\n      if (res.status === 200) {\r\n        localStorage.setItem(\"token\", res.data.key);\r\n        setNavigate(true);\r\n        window.location.reload();\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleFacebookLogin = () => {\r\n    server.get(\"accounts/facebook/login\").then(res => {\r\n      if (res.status === 200) {\r\n        localStorage.setItem(\"token\", res.data.key);\r\n        setNavigate(true);\r\n        window.location.reload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"base-container\" ref={props.containerRef}>\r\n      <div className=\"content\">\r\n        <img src={icon} alt=\"icon\" className=\"image\" />\r\n        {props.loading ? (\r\n          <LoadingOutlined />\r\n        ) : (\r\n          <>\r\n            <Form\r\n              form={form}\r\n              onSubmit={handleSubmit}\r\n              name=\"dynamic_rule\"\r\n              className=\"login-form\"\r\n              hideRequiredMark={true}\r\n            >\r\n              <Form.Item\r\n                className=\"form-group\"\r\n                name=\"username\"\r\n                label=\"Username\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    messsage: \"Please input your Username\"\r\n                  }\r\n                ]}\r\n              >\r\n                <Input placeholder=\"Username\" className=\"form-group-input\" />\r\n              </Form.Item>\r\n              <Form.Item\r\n                className=\"form-group\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    messsage: \"Please input your Password!\"\r\n                  }\r\n                ]}\r\n              >\r\n                <Input\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  className=\"form-group-input\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button onClick={handleSubmit} className=\"buttonSubmit\">\r\n                  Log in\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n            <Button onClick={handleGoogleLogin} className=\"googleLogin\">\r\n              <GoogleOutlined /> Login with Google account{\" \"}\r\n            </Button>\r\n            <Button onClick={handleFacebookLogin} className=\"facebookLogin\">\r\n              <FacebookFilled className=\"facebookIcon\" />\r\n              Login with Facebook account\r\n            </Button>\r\n            <div style={{ color: \"red\" }}>{errorMessage}</div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.loading,\r\n    error: state.error\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAuth: (username, password) =>\r\n      dispatch(actions.authLogin(username, password))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(NormalLoginForm);\r\n"]},"metadata":{},"sourceType":"module"}