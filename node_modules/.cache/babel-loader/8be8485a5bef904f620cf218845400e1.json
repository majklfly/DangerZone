{"ast":null,"code":"import React,{useEffect}from\"react\";import{Row}from\"antd\";import{useHistory}from\"react-router-dom\";import{Spin}from\"antd\";import{connect}from\"react-redux\";import{getChapters as _getChapters,getChapter as _getChapter}from\"../../store/actions/chapter\";import{getUserData as _getUserData}from\"../../store/actions/userData\";import CustomCard from\"../Card/Card\";import\"./Cards.css\";var Cards=function Cards(props){var history=useHistory();var chapters=[];var completedChapters=[];var sortChapters=function sortChapters(){if(props.chapters.chapters!==undefined){props.chapters.chapters.map(function(item){return chapters.push([item.id,item.title]);});props.completedChapters[0].map(function(item){return item.completed===true?completedChapters.push(item.chapterTitle):null;});}};sortChapters();var handleClick=function handleClick(e,chapterId){console.log(\"clicked\",chapterId);props.getChapter(chapterId);history.push(\"/chapter/\");};useEffect(function(){props.getChapters();props.getUserData();},[]);// eslint-disable-line\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\",\"data-test\":\"container\"},/*#__PURE__*/React.createElement(Row,{gutter:16,className:\"cards\",\"data-test\":\"cards\"},chapters.map(function(chapter,index){if(completedChapters.includes(chapter[1])){return/*#__PURE__*/React.createElement(\"div\",{className:\"active-container\",key:index},/*#__PURE__*/React.createElement(CustomCard,{className:\"inactive\",\"data-test\":\"inactive\",bordered:true,key:index,index:index+1,title:chapter[1],id:chapter.id,hoverable:false}));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"active-container\",onClick:function onClick(e){return handleClick(e,chapter[0]);},key:index,\"data-test\":\"active-container\"},/*#__PURE__*/React.createElement(CustomCard,{className:\"active\",\"data-test\":\"active\",bordered:true,index:index+1,title:chapter[1],id:chapter.id,hoverable:true}));}}))));};var mapStateToProps=function mapStateToProps(state){return{chapters:state.chapterReducer,userData:state.userDataReducer,completedChapters:[state.userDataReducer.chapterdata]};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getChapters:function getChapters(){dispatch(_getChapters());},getUserData:function getUserData(){dispatch(_getUserData());},getChapter:function getChapter(chapterId){dispatch(_getChapter(chapterId));}};};export default connect(mapStateToProps,mapDispatchToProps)(Cards);","map":{"version":3,"sources":["C:/dangerzone-react/src/components/Cards/Cards.js"],"names":["React","useEffect","Row","useHistory","Spin","connect","getChapters","getChapter","getUserData","CustomCard","Cards","props","history","chapters","completedChapters","sortChapters","undefined","map","item","push","id","title","completed","chapterTitle","handleClick","e","chapterId","console","log","chapter","index","includes","mapStateToProps","state","chapterReducer","userData","userDataReducer","chapterdata","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Row } from \"antd\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Spin } from \"antd\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { getChapters, getChapter } from \"../../store/actions/chapter\";\r\nimport { getUserData } from \"../../store/actions/userData\";\r\nimport CustomCard from \"../Card/Card\";\r\n\r\nimport \"./Cards.css\";\r\n\r\nconst Cards = props => {\r\n  const history = useHistory();\r\n\r\n  const chapters = [];\r\n  const completedChapters = [];\r\n\r\n  const sortChapters = () => {\r\n    if (props.chapters.chapters !== undefined) {\r\n      props.chapters.chapters.map(item => {\r\n        return chapters.push([item.id, item.title]);\r\n      });\r\n      props.completedChapters[0].map(item => {\r\n        return item.completed === true\r\n          ? completedChapters.push(item.chapterTitle)\r\n          : null;\r\n      });\r\n    }\r\n  };\r\n  sortChapters();\r\n\r\n  const handleClick = (e, chapterId) => {\r\n    console.log(\"clicked\", chapterId);\r\n    props.getChapter(chapterId);\r\n    history.push(\"/chapter/\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    props.getChapters();\r\n    props.getUserData();\r\n  }, []); // eslint-disable-line\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\" data-test=\"container\">\r\n        <Row gutter={16} className=\"cards\" data-test=\"cards\">\r\n          {chapters.map((chapter, index) => {\r\n            if (completedChapters.includes(chapter[1])) {\r\n              return (\r\n                <div className=\"active-container\" key={index}>\r\n                  <CustomCard\r\n                    className=\"inactive\"\r\n                    data-test=\"inactive\"\r\n                    bordered={true}\r\n                    key={index}\r\n                    index={index + 1}\r\n                    title={chapter[1]}\r\n                    id={chapter.id}\r\n                    hoverable={false}\r\n                  ></CustomCard>\r\n                </div>\r\n              );\r\n            } else {\r\n              return (\r\n                <div\r\n                  className=\"active-container\"\r\n                  onClick={e => handleClick(e, chapter[0])}\r\n                  key={index}\r\n                  data-test=\"active-container\"\r\n                >\r\n                  <CustomCard\r\n                    className=\"active\"\r\n                    data-test=\"active\"\r\n                    bordered={true}\r\n                    index={index + 1}\r\n                    title={chapter[1]}\r\n                    id={chapter.id}\r\n                    hoverable={true}\r\n                  ></CustomCard>\r\n                </div>\r\n              );\r\n            }\r\n          })}\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    chapters: state.chapterReducer,\r\n    userData: state.userDataReducer,\r\n    completedChapters: [state.userDataReducer.chapterdata]\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getChapters: () => {\r\n      dispatch(getChapters());\r\n    },\r\n    getUserData: () => {\r\n      dispatch(getUserData());\r\n    },\r\n    getChapter: chapterId => {\r\n      dispatch(getChapter(chapterId));\r\n    }\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Cards);\r\n"]},"metadata":{},"sourceType":"module"}