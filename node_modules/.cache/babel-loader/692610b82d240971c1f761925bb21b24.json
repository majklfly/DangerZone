{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\dangerzone-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\dangerzone-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\dangerzone-react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Progress}from\"antd\";import{Link}from\"react-router-dom\";import{UserOutlined,LogoutOutlined}from\"@ant-design/icons\";import{connect}from\"react-redux\";import\"font-awesome/css/font-awesome.min.css\";import*as actions from\"../store/actions/auth\";import server from\"../api/server\";import\"./UserBoard.css\";var token=localStorage.getItem(\"token\");var userData=[{username:\"Peter\"},{chapterdata:{one:\"test1\",two:\"two\"}}];var UserBoard=function UserBoard(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),percentage=_useState2[0],setPercentage=_useState2[1];var calculatePercentage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var chapters,finishedChapters,total,current,percent;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return server.get(\"/chapters/\",{headers:{authorization:\"Token \".concat(token)}});case 2:chapters=_context.sent;finishedChapters=[];props.userData.chapterdata.map(function(item){return item.completed===true?finishedChapters.push(item):null;});total=chapters.data.length;current=finishedChapters.length;percent=(current/(total/100)).toFixed(0);setPercentage(percent);case 9:case\"end\":return _context.stop();}}},_callee);}));return function calculatePercentage(){return _ref.apply(this,arguments);};}();calculatePercentage();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"userboard\"},/*#__PURE__*/React.createElement(Progress,{strokeColor:{\"100%\":\"#364d79\"},type:\"circle\",percent:percentage,className:\"progressBar\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"iconsContainer\"},/*#__PURE__*/React.createElement(Link,{to:\"/profile/\"},/*#__PURE__*/React.createElement(UserOutlined,{className:\"iconBoard\"})),/*#__PURE__*/React.createElement(Link,{to:\"/\",onClick:actions.logout},/*#__PURE__*/React.createElement(LogoutOutlined,{className:\"iconBoard\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"welcomeText\"},\"Hello \",userData.username)));};var mapStateToProps=function mapStateToProps(state){return{userData:state.userDataReducer};};export default connect(mapStateToProps)(UserBoard);","map":{"version":3,"sources":["C:/dangerzone-react/src/components/UserBoard.js"],"names":["React","useState","Progress","Link","UserOutlined","LogoutOutlined","connect","actions","server","token","localStorage","getItem","userData","username","chapterdata","one","two","UserBoard","props","percentage","setPercentage","calculatePercentage","get","headers","authorization","chapters","finishedChapters","map","item","completed","push","total","data","length","current","percent","toFixed","logout","mapStateToProps","state","userDataReducer"],"mappings":"6aAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,MAAzB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,YAAT,CAAuBC,cAAvB,KAA6C,mBAA7C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAO,uCAAP,CAEA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,uBAAzB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAO,iBAAP,CAEA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CAEA,GAAMC,CAAAA,QAAQ,CAAG,CACf,CAAEC,QAAQ,CAAE,OAAZ,CADe,CAEf,CACEC,WAAW,CAAE,CACXC,GAAG,CAAE,OADM,CAEXC,GAAG,CAAE,KAFM,CADf,CAFe,CAAjB,CAUA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,eACWjB,QAAQ,CAAC,CAAD,CADnB,wCAClBkB,UADkB,eACNC,aADM,eAGzB,GAAMC,CAAAA,mBAAmB,0FAAG,6MACHb,CAAAA,MAAM,CAACc,GAAP,CAAW,YAAX,CAAyB,CAC9CC,OAAO,CAAE,CAAEC,aAAa,iBAAWf,KAAX,CAAf,CADqC,CAAzB,CADG,QACpBgB,QADoB,eAIpBC,gBAJoB,CAID,EAJC,CAK1BR,KAAK,CAACN,QAAN,CAAeE,WAAf,CAA2Ba,GAA3B,CAA+B,SAAAC,IAAI,CAAI,CACrC,MAAOA,CAAAA,IAAI,CAACC,SAAL,GAAmB,IAAnB,CAA0BH,gBAAgB,CAACI,IAAjB,CAAsBF,IAAtB,CAA1B,CAAwD,IAA/D,CACD,CAFD,EAGMG,KARoB,CAQZN,QAAQ,CAACO,IAAT,CAAcC,MARF,CASpBC,OAToB,CASVR,gBAAgB,CAACO,MATP,CAUpBE,OAVoB,CAUV,CAACD,OAAO,EAAIH,KAAK,CAAG,GAAZ,CAAR,EAA0BK,OAA1B,CAAkC,CAAlC,CAVU,CAW1BhB,aAAa,CAACe,OAAD,CAAb,CAX0B,sDAAH,kBAAnBd,CAAAA,mBAAmB,0CAAzB,CAaAA,mBAAmB,GAEnB,mBACE,qDACE,2BAAK,SAAS,CAAC,WAAf,eACE,oBAAC,QAAD,EACE,WAAW,CAAE,CACX,OAAQ,SADG,CADf,CAIE,IAAI,CAAC,QAJP,CAKE,OAAO,CAAEF,UALX,CAME,SAAS,CAAC,aANZ,EADF,cASE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,eACE,oBAAC,YAAD,EAAc,SAAS,CAAC,WAAxB,EADF,CADF,cAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,OAAO,CAAEZ,OAAO,CAAC8B,MAA9B,eACE,oBAAC,cAAD,EAAgB,SAAS,CAAC,WAA1B,EADF,CAJF,CATF,cAiBE,2BAAK,SAAS,CAAC,aAAf,WAAoCzB,QAAQ,CAACC,QAA7C,CAjBF,CADF,CADF,CAuBD,CAzCD,CA2CA,GAAMyB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC/B,MAAO,CACL3B,QAAQ,CAAE2B,KAAK,CAACC,eADX,CAAP,CAGD,CAJD,CAMA,cAAelC,CAAAA,OAAO,CAACgC,eAAD,CAAP,CAAyBrB,SAAzB,CAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Progress } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { UserOutlined, LogoutOutlined } from \"@ant-design/icons\";\r\nimport { connect } from \"react-redux\";\r\nimport \"font-awesome/css/font-awesome.min.css\";\r\n\r\nimport * as actions from \"../store/actions/auth\";\r\n\r\nimport server from \"../api/server\";\r\nimport \"./UserBoard.css\";\r\n\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nconst userData = [\r\n  { username: \"Peter\" },\r\n  {\r\n    chapterdata: {\r\n      one: \"test1\",\r\n      two: \"two\"\r\n    }\r\n  }\r\n];\r\n\r\nconst UserBoard = props => {\r\n  const [percentage, setPercentage] = useState(0);\r\n\r\n  const calculatePercentage = async () => {\r\n    const chapters = await server.get(\"/chapters/\", {\r\n      headers: { authorization: `Token ${token}` }\r\n    });\r\n    const finishedChapters = [];\r\n    props.userData.chapterdata.map(item => {\r\n      return item.completed === true ? finishedChapters.push(item) : null;\r\n    });\r\n    const total = chapters.data.length;\r\n    const current = finishedChapters.length;\r\n    const percent = (current / (total / 100)).toFixed(0);\r\n    setPercentage(percent);\r\n  };\r\n  calculatePercentage();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"userboard\">\r\n        <Progress\r\n          strokeColor={{\r\n            \"100%\": \"#364d79\"\r\n          }}\r\n          type=\"circle\"\r\n          percent={percentage}\r\n          className=\"progressBar\"\r\n        />\r\n        <div className=\"iconsContainer\">\r\n          <Link to=\"/profile/\">\r\n            <UserOutlined className=\"iconBoard\" />\r\n          </Link>\r\n          <Link to=\"/\" onClick={actions.logout}>\r\n            <LogoutOutlined className=\"iconBoard\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"welcomeText\">Hello {userData.username}</div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    userData: state.userDataReducer\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(UserBoard);\r\n"]},"metadata":{},"sourceType":"module"}